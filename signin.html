<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <title>로그인</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" />

    <link rel="stylesheet" href="/assets/css/sign.css" />
  </head>
  <body>
    <header>
      <div class="header_container">
        <a class="header_container_logo" href="/"><img src="/assets/images/index/logo.svg" alt="홈으로 연결된 Linkbrary 로고" /></a>
        <p class="header_container__p">회원이 아니신가요?<a class="header_container__a" href="./signup.html">회원 가입하기</a></p>
      </div>
    </header>

    <div class="sign_box">
      <form id="login-form" class="sign-form" action="">
        <div class="sign_box_inputs">
          <div class="sign_box_input">
            <label for="email">이메일</label>
            <input type="text" name="email" id="email" />
            <p class="error_msg"></p>
          </div>
          <div class="sign_box_input sign-password">
            <label for="password">비밀번호 </label>
            <input type="password" name="password" id="password" />
            <button class="eye-button" type="button">
              <img src="/assets/images/signin/eye-off.svg" />
            </button>
            <p class="error_msg"></p>
          </div>
        </div>
        <input type="submit" value="로그인" />
      </form>

      <div class="singin_oauth">
        <p>소셜 로그인</p>
        <div class="sign_oauth__icon">
          <a href="https://www.google.com" target="_blank"><img src="/assets/images/signin/google.png" alt="" /></a>
          <a href="https://www.kakaocorp.com/page" target="_blank"><img src="/assets/images/signin/kakao.png" alt="" /></a>
        </div>
      </div>
    </div>
    <script>
      const input_email = document.querySelector('#email');
      const input_pw = document.querySelector('#password');
      const input_pw_chk = document.querySelector('#password_chk');
      const sign_form = document.querySelector('.sign-form');
      const error_msg = document.querySelectorAll('.error_msg');

      input_email.addEventListener('focusout', e => {
        validateEmail(event.target.value);
      });

      function validateEmail(email) {
        console.log(email.length == 0);
        var regex =
          /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;

        if (email.length == 0) {
          error_msg[0].innerHTML = '이메일을 입력해주세요';
          return false;
        }
        if (regex.test(email) === false) {
          error_msg[0].innerHTML = '올바른 이메일 주소가 아닙니다.';
          return false;
        }
      }
    </script>
  </body>
</html>
